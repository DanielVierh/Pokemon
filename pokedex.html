<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>
    <link rel="stylesheet" href="src/css/style.css">
</head>

<body>
    <a href="battle.html">Zur√ºck</a>
    <h1>Pokedex</h1>
    <br>
    <div class="wrapper" id="cards"></div>

    <script>

        facedPokemons = [];

        window.onload = init();


        function init() {
            loadFacedPokemons();
        }


        function loadFacedPokemons() {
            if (localStorage.getItem('storedFacedPokemons') != null) {
                facedPokemons = JSON.parse(localStorage.getItem('storedFacedPokemons'));
                renderPokeCards();
            }
        }

        function renderPokeCards() {
            let pokeId = 0;
            let pokename = '';
            let pokelevel = 0;
            let poketype = '';

            console.log(facedPokemons);

            for (let i = 0; i < facedPokemons.length; i++) {
                pokeId = facedPokemons[i].id;
                pokename = facedPokemons[i].name;
                pokelevel = facedPokemons[i].level;
                poketype = facedPokemons[i].type;
                buildCard(pokeId, pokename, pokelevel, poketype);

            }
        }


        function buildCard(id, name, level, type) {
            const cont = document.createElement('div');
            const txtlbl = document.createElement('p');
            const imgP = document.createElement('img');
            txtlbl.innerText = `${name} Nr.${id}`;
            txtlbl.classList.add('pokedexName');
            imgP.src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${id}.png`;
            cont.appendChild(imgP);
            cont.appendChild(document.createTextNode(name));
            cont.classList.add('container');
            cont.classList.add(addColorClass(type));
            cont.appendChild(txtlbl);
            let card = document.getElementById('cards');
            card.appendChild(cont);
        }



        function addColorClass(type) {
            if (type === '') {

            }

            switch (type) {
                case 'fire':
                    return 'orangeContainer';
                    break;
                case 'water':
                    return 'blueContainer';
                    break;
                case 'bug':
                    return 'greenContainer';
                    break;
                case 'grass':
                    return 'greenContainer';
                    break;
                case 'ground':
                    return 'brownContainer';
                    break;
                case 'poison':
                    return 'purpleContainer';
                    break;
                case 'rock':
                    return 'brownContainer';
                    break;
                case 'electric':
                    return 'yellowContainer';
                    break;

                default:
                    return 'greyContainer';
                    break;
            }
        }

    </script>
</body>

</html>
